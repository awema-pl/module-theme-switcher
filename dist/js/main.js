/**
 * Bundle of AWEMA theme-switcher
 * Generated: 2019-06-26 16:11:05
 * Version: 1.1.0
 */

!function(){"use strict";var e={name:"theme-switcher",inheritAttrs:!1,data(){return{oldValue:null,isDark:this.AWEMA._themeDark}},watch:{isDark(e){AWEMA._themeDark=e,this.$emit("input",e),this.oldValue=null}},methods:{inputClick(){this.oldValue===this.isDark&&this.toggleTheme()},toggleTheme(){this.isDark=this.isDark?0:1},checkTheme(){this.isDark!==this.AWEMA._themeDark&&(this.isDark=this.AWEMA._themeDark)}},mounted(){AWEMA.on("theme.change",this.checkTheme)},beforeDestroy(){AWEMA.off("theme.change",this.checkTheme)}};const t=e;e.__file="theme-switcher.vue";var n=function(e,t,n,i,r,o,s,a,c,l){"function"==typeof s&&(c=a,a=s,s=!1);const u="function"==typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),i&&(u._scopeId=i),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=d):t&&(d=s?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["theme-switcher",{"is-active":e.isDark}]},[n("div",{staticClass:"theme-switcher__switcher"},[n("input",e._b({directives:[{name:"model",rawName:"v-model.number",value:e.isDark,expression:"isDark",modifiers:{number:!0}}],staticClass:"theme-switcher__input",attrs:{type:"range",min:"0",max:"1"},domProps:{value:e.isDark},on:{mousedown:function(t){e.oldValue=e.isDark},click:e.inputClick,__r:function(t){e.isDark=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}},"input",e.$attrs,!1))]),e._v(" "),n("div",{staticClass:"theme-switcher__label",on:{click:function(t){return t.target!==t.currentTarget?null:e.toggleTheme(t)}}},[e._t("default",[e._v("\n            "+e._s(e.$lang.THEME_SWITCHER_DEFAULT)+"\n        ")],{isDark:e.isDark})],2)])},staticRenderFns:[]},void 0,t,void 0,!1,void 0,void 0,void 0);var i={installed:!1,install:function(e){this.installed||(this.installed=!0,e.component("theme-switcher",n))}};var r,o=(function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,r,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},i.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,!0!==o[l]&&(c+="="+o[l]));return document.cookie=t+"="+r+c}t||(s={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var m=u[h].split("="),_=m.slice(1).join("=");this.json||'"'!==_.charAt(0)||(_=_.slice(1,-1));try{var f=m[0].replace(d,decodeURIComponent);if(_=n.read?n.read(_,f):n(_,f)||_.replace(d,decodeURIComponent),this.json)try{_=JSON.parse(_)}catch(e){}if(t===f){s=_;break}t||(s[f]=_)}catch(e){}}return s}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}(function(){})},e.exports=n()}(r={exports:{}},r.exports),r.exports);function s(e,t){let n=function(e){return document.querySelector(`meta[name="${e}"]`)}(e);n?n.content=t:function(e,t){let n=document.createElement("META");n.name=e,n.content=t,document.head.appendChild(n)}(e,t)}const a=AWEMA_CONFIG.theme||{},c=a.domain;function l(e){if(e?document.documentElement.setAttribute("data-dark",!0):document.documentElement.removeAttribute("data-dark"),a.metaColor){let t=a.metaColor[e?"dark":"light"];s("theme-color",t),s("msapplication-navbutton-color",t)}o.set("theme_dark",e,{expires:365,domain:c})}const u=window.matchMedia("(prefers-color-scheme: dark)");function d(){return Number(o.get("theme_dark")||u.matches)}var h={THEME_SWITCHER_DEFAULT:"Theme dark"};!function(){let e=d()||a.isDark&&Number(a.isDark)||0;l(e)}();const m={install(e){e.lang=h,e._themeMQL=u,e._themeMQL.addListener(function(t){e._themeDark=Number(t.matches)}),Object.defineProperty(e,"_themeDark",{get:()=>d(),set(t){(t=Number(t))!==d()&&[0,1].includes(t)&&(l(t),e.emit("theme.change",t))}}),Vue.use(i)}};window&&"AWEMA"in window?AWEMA.use(m):(window.__awema_plugins_stack__=window.__awema_plugins_stack__||[],window.__awema_plugins_stack__.push(m))}();
